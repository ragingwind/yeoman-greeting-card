<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../neon-animation/neon-animations.html">
<link rel="import" href="../neon-animation/neon-animated-pages.html">
<link rel="import" href="../neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="stylesheet" href="yeoman-greeting-card.css">

<!--
Allo, Allo! Yeoman Greeting Card element

##### Example

    <yeoman-greeting-card></yeoman-greeting-card>

@element yeoman-greeting-card
@blurb Allo, Allo!
@status alpha
@homepage http://ragingwind.github.io/yeoman-greeting-card
-->

<dom-module id="square-card">
<template>
  <div class="square-card" id="squarecard">
    <div class="square-card-top"></div>
  </div>
</template>
<script>
  Polymer({
    is: 'square-card',
    behaviors: [
      Polymer.NeonSharedElementAnimatableBehavior
    ],
    properties: {
      sharedElements: {
        value: function() {
          return {
            'hero': this.$.hero
          }
        }
      },
      _animationConfig: {
        value: function() {
          return {
            'entry': {
              name: 'hero-animation',
              id: 'hero',
              toPage: this
            },
            'exit': {
              name: 'fade-in-animation',
              node: this,
              timing: {delay: 50},
              fromPage: this
            }
          }
        }
      }
    }
  });
</script>
</dom-module>

<dom-module id="post-card">
<template>
  <div class="postcard" layout horizontal>
    <div class="postcard-left" hero-id="yeoman-postcard-art"></div>
    <div class="postcard-right" flex>
      <h1>'Allo, 'Allo!</h1>
      <div class="postcard-detail">Post card</div>
    </div>
  </div>
</template>
<script>
  Polymer({
    is: 'post-card',
    behaviors: [
      Polymer.NeonSharedElementAnimatableBehavior
    ],
    properties: {
      sharedElements: {
        value: function() {
          return {
            'hero': this.$.hero
          }
        }
      },
      _animationConfig: {
        value: function() {
          return {
            'entry': {
              name: 'hero-animation',
              id: 'hero',
              fromPage: this
            }
          }
        }
      }
    }
  });
</script>
</dom-module>

<dom-module id="yeoman-greeting-card" attributes="notitle">
  <style>
    :host {
      display: block;
      width:720px;
      height:460px;
    }

    neon-animated-pages {
      width: 100%;
      height: 100%;
    }
  </style>
  <template>
    <link rel="stylesheet" href="yeoman-greeting-card.css" />
    <neon-animated-pages id="pages" selected="0" style="background-color:red">
      <square-card></square-card>
      <post-card></post-card>
    </neon-animated-pages>
  </template>
  <script>
    Polymer({
      is: 'yeoman-greeting-card',
      listeners: {
        'click': '_onClick'
      },
      _onClick: function() {
        console.log('clicked', this.$.pages.selected);
        this.$.pages.selected ^= 1;
      }
    });
  </script>
</dom-module>
